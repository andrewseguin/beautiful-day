<div class="container" [style.top]="subheaderVisibility ? '48px' : 0">

  <div class="categories-container">
    <div class="heading">
      <button md-icon-button class="back" (click)="closeSidenav.emit()">
        <md-icon>keyboard_arrow_left</md-icon>
      </button>
      <span class="title">Inventory</span>

      <inventory-search (searchChanged)="search = $event"></inventory-search>
    </div>

    <div class="categories" *ngIf="!_search">
      <div *ngFor="let category of getCategories()">
        <button md-button class="inventory-category"
                (click)="openSlidingPanel(category)">
          {{category}}
          <md-icon>keyboard_arrow_right</md-icon>
        </button>
      </div>
    </div>

    <div class="search-results" *ngIf="_search">
      <div class="result-count" *ngIf="searchResultCount > 0">
        Search found {{searchResultCount}} {{searchResultCount > 1 ? 'items' : 'item'}}
      </div>
      <div class="result-count" *ngIf="searchResultCount == 0">
        Could not find any items that match "{{_search}}"
      </div>
      <inventory-panel-item *ngFor="let item of paginatedSearchResult; trackBy:getItemKey"
                            [item]="item">
      </inventory-panel-item>
      <button md-button (click)="loadMore()">More items...</button>
    </div>
  </div>

  <sliding-panel #slidingPanel (createRequest)="createRequest($event)"></sliding-panel>
</div>
