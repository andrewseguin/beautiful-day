<requests-list *ngIf="report?.options"
               [requestRendererOptionsState]="report.options"
               (requestRendererOptionsChanged)="currentOptions = $event">
</requests-list>

<ng-template cdkPortal>
  <ng-container *ngIf="report">
    <button mat-raised-button color="accent"
            *ngIf="!report.$key"
            (click)="saveAs()">
      Save As
    </button>

    <button mat-raised-button color="accent"
            *ngIf="report.$key"
            (click)="save()" [disabled]="!canSave">
      {{canSave ? 'Save' : 'Saved'}}
    </button>

    <button mat-icon-button class="menu" [mat-menu-trigger-for]="editMenu">
      <mat-icon> settings </mat-icon>
    </button>

    <mat-menu #editMenu="matMenu">
      <button mat-menu-item *ngIf="report.$key" (click)="openEditNameDialog()">
        <mat-icon> edit </mat-icon> Edit
      </button>
      <button mat-menu-item (click)="print()">
        <mat-icon> print </mat-icon> Print
      </button>
      <button mat-menu-item *ngIf="report.$key" (click)="deleteReport()">
        <mat-icon> delete </mat-icon> Delete
      </button>
    </mat-menu>
  </ng-container>
</ng-template>
