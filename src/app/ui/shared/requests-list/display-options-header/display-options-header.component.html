<div class="button-toolbar">
  <div class="buttons">
    <button md-button
            (click)="showFilter = true"
            [disabled]="showFilter">
      <div class="button-content">
        <md-icon>filter_list</md-icon>
        <span class="text"> Filter </span>
      </div>
    </button>

    <button md-button [md-menu-trigger-for]="groupingMenu">
      <div class="button-content">
        <md-icon>view_stream</md-icon>
        <span class="text"> Group </span>
      </div>
    </button>

    <button md-button [md-menu-trigger-for]="viewingMenu">
      <div class="button-content">
        <md-icon>remove_red_eye</md-icon>
        <span class="text"> View </span>
      </div>
    </button>

    <button md-button [md-menu-trigger-for]="sortingMenu">
      <div class="button-content">
        <md-icon>sort</md-icon>
        <span class="text"> Sort </span>
      </div>
    </button>
  </div>
</div>

<div [style.display]="showFilter ? '' : 'none'"
     class="filter-input mat-elevation-z1">
  <md-input-container [floatPlaceholder]="'never'">
    <div class="input-content">
      <input mdInput [(ngModel)]="filter"
             (ngModelChange)="notify()"
             autofocus placeholder="Enter keywords to filter requests"/>
      <button md-icon-button
              (click)="showFilter = false; filter = ''; notify()">
        <md-icon>close</md-icon>
      </button>
    </div>
  </md-input-container>
</div>

<!-- Group Menu -->
<md-menu #groupingMenu="mdMenu">
  <div class="project-requests-menu-title">Group requests by:</div>
  <button class="grouping-option project-requests-option" md-menu-item
          *ngFor="let group of getGroups()"
          [class.selected]="grouping == group"
          (click)="grouping = group; notify()">
    <div class="option-content">
      <md-icon>check</md-icon>
      {{getGroupingName(group)}}
    </div>
  </button>
</md-menu>

<!-- View Menu -->
<md-menu #viewingMenu="mdMenu">
  <div class="project-requests-menu-title">View request details:</div>
  <button class="project-requests-option" md-menu-item
          *ngFor="let option of getRequestViewOptionKeys()"
          [class.selected]="viewing[option]"
          (click)="viewing[option] = !viewing[option]; notify()">
    <div class="option-content">
      <md-icon>check</md-icon>
      {{option}}
    </div>
  </button>
</md-menu>

<!-- Sort Menu -->
<md-menu #sortingMenu="mdMenu" x-position="before">
  <div class="project-requests-menu-title">Sort requests by:</div>
  <button class="project-requests-option" md-menu-item
          *ngFor="let sort of getSortOptions()"
          [class.selected]="sorting == sort"
          (click)="sorting = sort; notify()">
    <div class="option-content">
      <md-icon>check</md-icon>
      {{sort}}
    </div>
  </button>
</md-menu>
